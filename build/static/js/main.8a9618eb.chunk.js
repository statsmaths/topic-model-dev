(window.webpackJsonpsbp=window.webpackJsonpsbp||[]).push([[0],{16:function(t,e,i){t.exports=i(29)},21:function(t,e,i){},22:function(t,e,i){},23:function(t,e,i){},29:function(t,e,i){"use strict";i.r(e);var a=i(1),n=i.n(a),o=i(8),c=i.n(o),l=(i(21),i(2)),s=i(3),r=i(4),p=i(5),d=i(6),u=i(10),h=i(13),m=(i(22),i(23),[{label:"Topic Model",value:"topic"},{label:"Topic Model (no dialect)",value:"topic_nodialect"},{label:"Document Clustering",value:"cluster"},{label:"Document Clustering (no dialect)",value:"cluster_nodialect"}]),v=[{label:"Proportion",value:"proportion"},{label:"Gender",value:"gender"},{label:"Race",value:"race"},{label:"Gender (writer)",value:"gender_writer"},{label:"Race (writer)",value:"race_writer"}];function f(t){var e=Math.max.apply(Math,Object(u.a)(t.weights)),i=t.weights.map((function(t){return 100*t/e}));return n.a.createElement("div",{className:"topic-list-container"+t.class,style:{width:t.width}},n.a.createElement("div",{className:"topic-list-title"},n.a.createElement("span",null,t.title)),n.a.createElement("div",{className:"topic-list-row topic-list-row-head"},n.a.createElement("span",null,t.titleleft),n.a.createElement("span",null,t.titleright)),t.items.map((function(e,a){var o=null;t.numcol&&(o=n.a.createElement("div",{className:"topic-list-percent"},n.a.createElement("span",null,Math.round(t.weights[a])+"%")));var c=a;t.clickids&&(c=t.clickids[a]);var l=t.clickfun,s="topic-list-row";return l||(l=function(){},s="topic-list-row noclick"),n.a.createElement("div",{className:s,key:a,onClick:function(){return l(c)}},n.a.createElement("div",{className:"topic-list-text"},n.a.createElement("span",null,e)),o,n.a.createElement("div",{className:"topic-list-size"},n.a.createElement("div",{className:"topic-list-inner",style:{width:i[a]+"%"}})))})))}var w=function(t){function e(){return Object(l.a)(this,e),Object(r.a)(this,Object(p.a)(e).apply(this,arguments))}return Object(d.a)(e,t),Object(s.a)(e,[{key:"render",value:function(){var t=this;return n.a.createElement("div",{className:"topic-meta"},n.a.createElement("div",{className:"interview-btn-grp"},n.a.createElement("button",{onClick:function(){window.open("./data/text/"+t.props.doc.id+".txt")}},"text"),n.a.createElement("button",{onClick:function(){window.open(t.props.doc.pdf)}},"pdf")),n.a.createElement("ul",null,n.a.createElement("li",null,"Title: ",n.a.createElement("span",null,this.props.doc.title)),n.a.createElement("li",null,"Location: ",n.a.createElement("span",null,this.props.doc.location)),n.a.createElement("li",null,"Interviewee: ",n.a.createElement("span",null,this.props.doc.interviewee)),n.a.createElement("li",null,"Writer: ",n.a.createElement("span",null,this.props.doc.writer))))}}]),e}(n.a.Component),g=function(t){function e(t){var i;return Object(l.a)(this,e),(i=Object(r.a)(this,Object(p.a)(e).call(this,t))).handleSelectMetaChange=function(t){i.setState({selectedMetaOption:t})},i.handleSelectChange=function(t){i.setState({selectedOption:t}),fetch("./data/"+t.value+".json").then((function(t){return t.json()})).then((function(t){i.setState({td:t,topicstate:"grid"})}))},i.state={td:null,interviewmedia:"meta",topicstate:"grid",selectedOption:null,selectedMetaOption:{label:"Proportion",value:"proportion"},topic:0,topicdoc:0},i}return Object(d.a)(e,t),Object(s.a)(e,[{key:"componentDidMount",value:function(){}},{key:"handleChangeTopic",value:function(t){this.setState({topic:t,topicstate:"topic"})}},{key:"handleChangeTopicDoc",value:function(t){this.setState({topicdoc:t,topicstate:"doc"})}},{key:"handleChangeTopicstate",value:function(t){this.setState({topicstate:t})}},{key:"handleMediaButton",value:function(t){this.setState({interviewmedia:t})}},{key:"render",value:function(){var t=this,e=n.a.createElement("div",{className:"select-group"},n.a.createElement(h.a,{options:m,className:"myselect",isSearchable:!1,placeholder:"Select a Model",onChange:this.handleSelectChange,value:this.state.selectedOption}),n.a.createElement(h.a,{options:v,className:"myselect",isSearchable:!1,placeholder:"",onChange:this.handleSelectMetaChange,value:this.state.selectedMetaOption}));if(!this.state.td)return n.a.createElement("div",{className:"topic-container "},n.a.createElement("div",{className:"topic-header"},n.a.createElement("span",null,"Select a Topic or Document Clustering Model")),e);var i=null;if("grid"===this.state.topicstate){var a=this.state.td.all.map((function(t){return t.proportion})),o="proportion of corpus";"gender"===this.state.selectedMetaOption.value&&(a=this.state.td.all.map((function(t){return t.proportion_women})),console.log(this.state.td.all[0]),o="proportion female interviewees"),"race"===this.state.selectedMetaOption.value&&(a=this.state.td.all.map((function(t){return t.proportion_black})),console.log(this.state.td.all[0]),o="proportion black interviewees"),"gender_writer"===this.state.selectedMetaOption.value&&(a=this.state.td.all.map((function(t){return t.proportion_women_writer})),console.log(this.state.td.all[0]),o="proportion female writers"),"race_writer"===this.state.selectedMetaOption.value&&(a=this.state.td.all.map((function(t){return t.proportion_black_writer})),console.log(this.state.td.all[0]),o="proportion black writers"),i=n.a.createElement("div",{className:"topic-part"},n.a.createElement(f,{titleleft:"topic",titleright:o,items:this.state.td.all.map((function(t){return t.description})),weights:a,width:"600px",clickfun:this.handleChangeTopic.bind(this),numcol:!0,class:""}))}return"topic"===this.state.topicstate&&(i=n.a.createElement("div",{className:"topic-part"},n.a.createElement("div",{style:{width:"900px"}},n.a.createElement(f,{title:"Associated Words",titleleft:"word",titleright:"weight",items:this.state.td.topics[this.state.topic].top_word,weights:this.state.td.topics[this.state.topic].word_wgt,width:"250px",numcol:!1,class:""}),n.a.createElement(f,{title:"Associated Interviews",titleleft:"interview",titleright:"proportion in topic",items:this.state.td.topics[this.state.topic].top_docs,weights:this.state.td.topics[this.state.topic].doc_perc,width:"400px",clickfun:this.handleChangeTopicDoc.bind(this),clickids:this.state.td.topics[this.state.topic].top_docs_ids,numcol:!0,class:" topic-list-two"})))),"doc"===this.state.topicstate&&(i=n.a.createElement("div",null,n.a.createElement("div",{className:"topic-part"},n.a.createElement(f,{titleleft:"Topic",titleright:"proportion of document",items:this.state.td.docs[this.state.topicdoc].top_topics,weights:this.state.td.docs[this.state.topicdoc].topic_weights,clickfun:this.handleChangeTopic.bind(this),clickids:this.state.td.docs[this.state.topicdoc].top_topics_ids,width:"300px",numcol:!0,class:""})),n.a.createElement(w,{interview:this.state.interview,doc:this.state.td.docs[this.state.topicdoc],interviewmedia:this.state.interviewmedia,handleMediaButton:this.handleMediaButton.bind(this)}))),n.a.createElement("div",{className:"topic-container "},n.a.createElement("div",{className:"topic-header"},n.a.createElement("span",null,"Select a Topic or Document Clustering Model")),e,n.a.createElement("span",{style:{left:"500px",color:"#268bd2",fontSize:"1.2em",cursor:"pointer",marginLeft:"400px"},onClick:function(){return t.handleChangeTopicstate("grid")}},"[all topics]"),i)}}]),e}(n.a.Component),b=function(t){function e(){return Object(l.a)(this,e),Object(r.a)(this,Object(p.a)(e).apply(this,arguments))}return Object(d.a)(e,t),Object(s.a)(e,[{key:"render",value:function(){return n.a.createElement(g,null)}}]),e}(n.a.Component);var E=function(){return n.a.createElement(b,null)},k=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function C(t,e){navigator.serviceWorker.register(t).then((function(t){t.onupdatefound=function(){var i=t.installing;null!=i&&(i.onstatechange=function(){"installed"===i.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),e&&e.onUpdate&&e.onUpdate(t)):(console.log("Content is cached for offline use."),e&&e.onSuccess&&e.onSuccess(t)))})}})).catch((function(t){console.error("Error during service worker registration:",t)}))}c.a.render(n.a.createElement(E,null),document.getElementById("root")),function(t){if("serviceWorker"in navigator){if(new URL("/topic-model-dev/build",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("/topic-model-dev/build","/service-worker.js");k?(!function(t,e){fetch(t).then((function(i){var a=i.headers.get("content-type");404===i.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(t){t.unregister().then((function(){window.location.reload()}))})):C(t,e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e,t),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):C(e,t)}))}}()}},[[16,1,2]]]);
//# sourceMappingURL=main.8a9618eb.chunk.js.map