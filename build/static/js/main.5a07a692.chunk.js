(window.webpackJsonpsbp=window.webpackJsonpsbp||[]).push([[0],{16:function(t,e,n){t.exports=n(29)},21:function(t,e,n){},22:function(t,e,n){},23:function(t,e,n){},29:function(t,e,n){"use strict";n.r(e);var a=n(1),i=n.n(a),o=n(8),c=n.n(o),l=(n(21),n(2)),s=n(3),r=n(4),d=n(5),p=n(6),u=n(10),h=n(13),m=(n(22),n(23),[{label:"Topic Model",value:"topic"},{label:"Topic Model (no dialect)",value:"topic_nodialect"},{label:"Document Clustering",value:"cluster"},{label:"Document Clustering (no dialect)",value:"cluster_nodialect"},{label:"Document Clustering (balanced)",value:"cluster_balance"},{label:"Document Clustering (no dialect; balanced)",value:"cluster_nodialect_balance"}]),v=[{label:"Proportion",value:"proportion"},{label:"Gender",value:"gender"},{label:"Race",value:"race"}];function f(t){var e=Math.max.apply(Math,Object(u.a)(t.weights)),n=t.weights.map((function(t){return 100*t/e}));return i.a.createElement("div",{className:"topic-list-container"+t.class,style:{width:t.width}},i.a.createElement("div",{className:"topic-list-title"},i.a.createElement("span",null,t.title)),i.a.createElement("div",{className:"topic-list-row topic-list-row-head"},i.a.createElement("span",null,t.titleleft),i.a.createElement("span",null,t.titleright)),t.items.map((function(e,a){var o=null;t.numcol&&(o=i.a.createElement("div",{className:"topic-list-percent"},i.a.createElement("span",null,Math.round(t.weights[a])+"%")));var c=a;t.clickids&&(c=t.clickids[a]);var l=t.clickfun,s="topic-list-row";return l||(l=function(){},s="topic-list-row noclick"),i.a.createElement("div",{className:s,key:a,onClick:function(){return l(c)}},i.a.createElement("div",{className:"topic-list-text"},i.a.createElement("span",null,e)),o,i.a.createElement("div",{className:"topic-list-size"},i.a.createElement("div",{className:"topic-list-inner",style:{width:n[a]+"%"}})))})))}var w=function(t){function e(){return Object(l.a)(this,e),Object(r.a)(this,Object(d.a)(e).apply(this,arguments))}return Object(p.a)(e,t),Object(s.a)(e,[{key:"render",value:function(){var t=this;return i.a.createElement("div",{className:"topic-meta"},i.a.createElement("div",{className:"interview-btn-grp"},i.a.createElement("button",{onClick:function(){window.open("./data/text/"+t.props.doc.id+".txt")}},"text"),i.a.createElement("button",{onClick:function(){window.open(t.props.doc.pdf)}},"pdf")),i.a.createElement("ul",null,i.a.createElement("li",null,"Title: ",i.a.createElement("span",null,this.props.doc.title)),i.a.createElement("li",null,"Location: ",i.a.createElement("span",null,this.props.doc.location)),i.a.createElement("li",null,"Interviewee: ",i.a.createElement("span",null,this.props.doc.interviewee)),i.a.createElement("li",null,"Writer: ",i.a.createElement("span",null,this.props.doc.writer))))}}]),e}(i.a.Component),g=function(t){function e(t){var n;return Object(l.a)(this,e),(n=Object(r.a)(this,Object(d.a)(e).call(this,t))).handleSelectMetaChange=function(t){n.setState({selectedMetaOption:t})},n.handleSelectChange=function(t){n.setState({selectedOption:t}),fetch("./data/"+t.value+".json").then((function(t){return t.json()})).then((function(t){n.setState({td:t,topicstate:"grid"})}))},n.state={td:null,interviewmedia:"meta",topicstate:"grid",selectedOption:null,selectedMetaOption:{label:"Proportion",value:"proportion"},topic:0,topicdoc:0},n}return Object(p.a)(e,t),Object(s.a)(e,[{key:"componentDidMount",value:function(){}},{key:"handleChangeTopic",value:function(t){this.setState({topic:t,topicstate:"topic"})}},{key:"handleChangeTopicDoc",value:function(t){this.setState({topicdoc:t,topicstate:"doc"})}},{key:"handleChangeTopicstate",value:function(t){this.setState({topicstate:t})}},{key:"handleMediaButton",value:function(t){this.setState({interviewmedia:t})}},{key:"render",value:function(){var t=this,e=i.a.createElement("div",{className:"select-group"},i.a.createElement(h.a,{options:m,className:"myselect",isSearchable:!1,placeholder:"Select a Model",onChange:this.handleSelectChange,value:this.state.selectedOption}),i.a.createElement(h.a,{options:v,className:"myselect",isSearchable:!1,placeholder:"",onChange:this.handleSelectMetaChange,value:this.state.selectedMetaOption}));if(!this.state.td)return i.a.createElement("div",{className:"topic-container "},i.a.createElement("div",{className:"topic-header"},i.a.createElement("span",null,"Select a Topic or Document Clustering Model")),e);var n=null;if("grid"===this.state.topicstate){var a=this.state.td.all.map((function(t){return t.proportion})),o="proportion of corpus";"gender"===this.state.selectedMetaOption.value&&(a=this.state.td.all.map((function(t){return t.proportion_women})),console.log(this.state.td.all[0]),o="proportion female interviewees"),"race"===this.state.selectedMetaOption.value&&(a=this.state.td.all.map((function(t){return t.proportion_black})),console.log(this.state.td.all[0]),o="proportion black interviewees"),n=i.a.createElement("div",{className:"topic-part"},i.a.createElement(f,{titleleft:"topic",titleright:o,items:this.state.td.all.map((function(t){return t.description})),weights:a,width:"600px",clickfun:this.handleChangeTopic.bind(this),numcol:!0,class:""}))}return"topic"===this.state.topicstate&&(n=i.a.createElement("div",{className:"topic-part"},i.a.createElement("div",{style:{width:"900px"}},i.a.createElement(f,{title:"Associated Words",titleleft:"word",titleright:"weight",items:this.state.td.topics[this.state.topic].top_word,weights:this.state.td.topics[this.state.topic].word_wgt,width:"250px",numcol:!1,class:""}),i.a.createElement(f,{title:"Associated Interviews",titleleft:"interview",titleright:"proportion in topic",items:this.state.td.topics[this.state.topic].top_docs,weights:this.state.td.topics[this.state.topic].doc_perc,width:"400px",clickfun:this.handleChangeTopicDoc.bind(this),clickids:this.state.td.topics[this.state.topic].top_docs_ids,numcol:!0,class:" topic-list-two"})))),"doc"===this.state.topicstate&&(n=i.a.createElement("div",null,i.a.createElement("div",{className:"topic-part"},i.a.createElement(f,{titleleft:"Topic",titleright:"proportion of document",items:this.state.td.docs[this.state.topicdoc].top_topics,weights:this.state.td.docs[this.state.topicdoc].topic_weights,clickfun:this.handleChangeTopic.bind(this),clickids:this.state.td.docs[this.state.topicdoc].top_topics_ids,width:"300px",numcol:!0,class:""})),i.a.createElement(w,{interview:this.state.interview,doc:this.state.td.docs[this.state.topicdoc],interviewmedia:this.state.interviewmedia,handleMediaButton:this.handleMediaButton.bind(this)}))),i.a.createElement("div",{className:"topic-container "},i.a.createElement("div",{className:"topic-header"},i.a.createElement("span",null,"Select a Topic or Document Clustering Model")),e,i.a.createElement("span",{style:{left:"500px",color:"#268bd2",fontSize:"1.2em",cursor:"pointer",marginLeft:"400px"},onClick:function(){return t.handleChangeTopicstate("grid")}},"[all topics]"),n)}}]),e}(i.a.Component),b=function(t){function e(){return Object(l.a)(this,e),Object(r.a)(this,Object(d.a)(e).apply(this,arguments))}return Object(p.a)(e,t),Object(s.a)(e,[{key:"render",value:function(){return i.a.createElement(g,null)}}]),e}(i.a.Component);var E=function(){return i.a.createElement(b,null)},k=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function C(t,e){navigator.serviceWorker.register(t).then((function(t){t.onupdatefound=function(){var n=t.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),e&&e.onUpdate&&e.onUpdate(t)):(console.log("Content is cached for offline use."),e&&e.onSuccess&&e.onSuccess(t)))})}})).catch((function(t){console.error("Error during service worker registration:",t)}))}c.a.render(i.a.createElement(E,null),document.getElementById("root")),function(t){if("serviceWorker"in navigator){if(new URL("/voice-of-a-nation/build",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("/voice-of-a-nation/build","/service-worker.js");k?(!function(t,e){fetch(t).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(t){t.unregister().then((function(){window.location.reload()}))})):C(t,e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e,t),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):C(e,t)}))}}()}},[[16,1,2]]]);
//# sourceMappingURL=main.5a07a692.chunk.js.map